{"version":3,"sources":["operators.js","App.js","index.js"],"names":["operators","a","b","App","props","operation","e","state","output","match","target","innerHTML","setState","prev","input","replace","decimal","result","Math","abs","parseFloat","handleClick","clear","equal","className","id","this","onClick","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e008a053.chunk.js","sourcesContent":["export const operators = {\n  '/': function(a,b){ return a/b},\n  '*': function(a,b){ return a*b},\n  '-': function(a,b){ return a-b},\n  '+': function(a,b){ return a+b},\n}\n","import React from 'react';\nimport './App.css';\nimport {operators} from './operators.js'\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      input: '0',\n      operation: '',\n      output: '',\n      result:0,\n      decimal: false,\n    };\n  }\n\n  operation = (e) => {\n    // On ne peut pas commencer par un operator\n    if (this.state.output === '') {\n      return\n    }\n    // S'il y a déjà un opertor\n    if(this.state.output.match(/[*+/]$/)) {\n      // Si celui-ci est un \"moins\", On garde le précédent en mémoire et on peut ajouter le moins après\n      if (e.target.innerHTML === '-') {\n        this.setState(\n          (prev) => ({\n            input: e.target.innerHTML,\n            output: prev.output + e.target.innerHTML\n          })\n        )\n        // Si ce n'est pas un \"moins\" il peut alors être remplacé par un autre operator\n      } else {\n        this.setState(\n          (prev) => ({\n            input: e.target.innerHTML,\n            output: prev.output.replace(/\\W$/, e.target.innerHTML),\n            operation: e.target.innerHTML,\n            decimal:false\n          })\n        )\n      }\n    } else if (this.state.output.match(/[*+/]-$/)) {\n      this.setState(\n        (prev) => ({\n          input: e.target.innerHTML,\n          output: prev.output.replace(/[*+/]-$/, e.target.innerHTML),\n          operation: e.target.innerHTML,\n          decimal: false\n        })\n      )\n      // Si le résutat est égal à 0\n    } else if (this.state.result === 0) {\n      this.setState(\n        (prev) => ({\n          input: e.target.innerHTML,\n          output: prev.output + e.target.innerHTML,\n          operation: e.target.innerHTML,\n          result: Math.abs(prev.input),\n          decimal: false\n        })\n      )\n      // Si on a déjà appuyé sur égale\n    } else if (this.state.output.match(/=/)) {\n      this.setState(\n        (prev) => ({\n          input: e.target.innerHTML,\n          output: prev.result + e.target.innerHTML,\n          operation: e.target.innerHTML,\n          decimal: false\n        })\n      )\n    } else {\n      this.setState(\n        (prev) => ({\n          input: e.target.innerHTML,\n          output: prev.output + e.target.innerHTML,\n          operation: e.target.innerHTML,\n          decimal: false,\n          result: operators[prev.operation](prev.result, parseFloat(prev.input))\n        })\n      )\n    }\n  }\n\n  handleClick = (e) => {\n    //Au commencement losque input = 0\n    if (this.state.input === '0') {\n      this.setState({\n        input: e.target.innerHTML,\n        output: e.target.innerHTML\n      })\n    //\n    } else if (this.state.input.match(/^\\W/)) {\n      if (this.state.input.match(/^-/) && this.state.operation !== '-') {\n        this.setState(\n          (prev) => ({\n            input: prev.input + e.target.innerHTML,\n            output: prev.output + e.target.innerHTML\n          })\n        )\n      } else {\n        this.setState(\n          (prev) => ({\n            input: e.target.innerHTML,\n            output: prev.output + e.target.innerHTML\n          })\n        )\n      }\n    } else if (this.state.output.match(/=/)) {\n      this.setState({\n        input: e.target.innerHTML,\n        output: e.target.innerHTML,\n        result: 0\n      })\n    } else if (e.target.innerHTML === '.' && !this.state.decimal){\n      this.setState(\n        (prev) => ({\n          input: prev.input + e.target.innerHTML,\n          output: prev.output + e.target.innerHTML,\n          decimal: true\n        })\n      )\n    } else if (e.target.innerHTML === '.' && this.state.decimal) {\n      return\n    } else {\n      this.setState(\n        (prev) => ({\n          input: prev.input + e.target.innerHTML,\n          output: prev.output + e.target.innerHTML})\n      );\n    }\n  }\n\n  clear = () => {\n    this.setState({\n      input: '0',\n      output: '',\n      result: 0,\n      operation: '',\n      decimal: false\n    });\n  }\n\n  equal = () => {\n    if (this.state.operation !== '') {\n      this.setState(\n        (prev) => ({\n          input: operators[prev.operation](prev.result, parseFloat(prev.input)),\n          output: prev.output + '=' + operators[prev.operation](parseFloat(prev.result), parseFloat(prev.input)),\n          result: operators[prev.operation](prev.result, parseFloat(prev.input)),\n          operation: ''\n        })\n      )\n    }else {\n      return\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"App\">\n        <div className='container'>\n          <div className='display'>\n            <div id='output' className='output'>{this.state.output}</div>\n            <div id='display' className='input'>{this.state.input}</div>\n          </div>\n          <button onClick={this.clear} id='clear' className='AC'>AC</button>\n          <button onClick={this.operation} id='divide' className='division'>/</button>\n          <button onClick={this.operation} id='multiply' className='multiply'>*</button>\n          <button onClick={this.handleClick} id='seven' className='num'>7</button>\n          <button onClick={this.handleClick} id='eight' className='num'>8</button>\n          <button onClick={this.handleClick} id='nine' className='num'>9</button>\n          <button onClick={this.operation} id='subtract' className='minus'>-</button>\n          <button onClick={this.handleClick} id='four' className='num'>4</button>\n          <button onClick={this.handleClick} id='five' className='num'>5</button>\n          <button onClick={this.handleClick} id='six' className='num'>6</button>\n          <button onClick={this.operation} id='add' className='plus'>+</button>\n          <button onClick={this.handleClick} id='one' className='num'>1</button>\n          <button onClick={this.handleClick} id='two' className='num'>2</button>\n          <button onClick={this.handleClick} id='three' className='num'>3</button>\n          <button onClick={this.equal} id='equals' className='egal'>=</button>\n          <button onClick={this.handleClick} id='zero' className='num zero'>0</button>\n          <button onClick={this.handleClick} id='decimal' className='num'>.</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}